import { CodeBlock } from '@/components/CodeBlock'

# Examples

Complete working examples demonstrating Penelope's capabilities. All examples are in the [examples directory](https://github.com/rhesis-ai/rhesis/tree/main/penelope/examples).

## Prerequisites

<Callout type="warning">
  **Required:**
  
  1. **RHESIS_API_KEY**: Set your Rhesis API key
  <CodeBlock filename="Terminal" language="bash">
  {`export RHESIS_API_KEY="rh-your-api-key"`}
  </CodeBlock>
  Get your key from [Rhesis App](https://app.rhesis.ai) ‚Üí Settings ([docs](/sdk/installation#configure-the-sdk))
  
  2. **Rhesis Endpoint ID**: Get this from your Rhesis dashboard
</Callout>

## Running Examples

All examples accept command-line arguments:

<CodeBlock filename="Terminal" language="bash">
{`cd rhesis/penelope/examples

# Run with your endpoint ID
uv run python basic_example.py --endpoint-id <your-endpoint-id>

# Adjust iterations
uv run python basic_example.py -e <your-endpoint-id> --max-iterations 20

# Get help
uv run python basic_example.py --help`}
</CodeBlock>

## Available Examples

### Basic Example

Simple multi-turn conversation testing with both goal-only and detailed approaches.

<CodeBlock filename="basic_example.py" language="python">
{`from rhesis.penelope import EndpointTarget, PenelopeAgent

agent = PenelopeAgent(enable_transparency=True, verbose=True)
target = EndpointTarget(endpoint_id="your-endpoint-id")

# Simple test - Penelope plans the approach
result = agent.execute_test(
    target=target,
    goal="Verify chatbot answers 3 questions about return policies maintaining context",
)

print(f"Goal achieved: {result.goal_achieved}")
print(f"Turns used: {result.turns_used}")`}
</CodeBlock>

<CodeBlock filename="Terminal" language="bash">
{`uv run python basic_example.py --endpoint-id <your-endpoint-id>`}
</CodeBlock>

### Security Testing

Comprehensive vulnerability testing including jailbreak resistance, prompt injection, information leakage, and boundary violations.

‚ö†Ô∏è **Important:** Only test systems you own or have permission to test.

<CodeBlock filename="Terminal" language="bash">
{`uv run python security_testing.py --endpoint-id <your-endpoint-id>`}
</CodeBlock>

### Compliance Testing

Verify regulatory compliance: GDPR, PII handling, COPPA, accessibility, and content moderation.

<CodeBlock filename="Terminal" language="bash">
{`uv run python compliance_testing.py --endpoint-id <your-endpoint-id>`}
</CodeBlock>

### Edge Case Discovery

Find unusual behaviors: input variations, multi-language, ambiguous inputs, error recovery, boundary values, context switching.

<CodeBlock filename="Terminal" language="bash">
{`uv run python edge_case_discovery.py --endpoint-id <your-endpoint-id>`}
</CodeBlock>

### Platform Integration

Load TestSets from Rhesis platform, execute with Penelope, and store results back.

üìù **Note:** Requires valid TestSet IDs in your Rhesis account.

<CodeBlock filename="Terminal" language="bash">
{`uv run python platform_integration.py --endpoint-id <your-endpoint-id>`}
</CodeBlock>

### Custom Tools

Create custom testing tools for specialized needs (database verification, API monitoring, security scanning).

<CodeBlock filename="custom_tools.py" language="python">
{`from rhesis.penelope.tools.base import Tool, ToolResult

class DatabaseVerificationTool(Tool):
    @property
    def name(self) -> str:
        return "verify_database_state"
    
    @property
    def description(self) -> str:
        return "Verify backend database state during testing..."
    
    def execute(self, table_name: str = "", record_id: str = "", **kwargs) -> ToolResult:
        # Your implementation
        pass

# Use custom tool
agent = PenelopeAgent(tools=[DatabaseVerificationTool()])`}
</CodeBlock>

<CodeBlock filename="Terminal" language="bash">
{`uv run python custom_tools.py --endpoint-id <your-endpoint-id>`}
</CodeBlock>

### Batch Testing

Run multiple test scenarios efficiently with result aggregation, reporting, and JSON export.

<CodeBlock filename="Terminal" language="bash">
{`uv run python batch_testing.py --endpoint-id <your-endpoint-id>`}
</CodeBlock>

## Contributing Examples

Have an interesting use case? Contribute following these guidelines:

<Steps>

### Document Your Example

- Clear documentation at the top
- Prerequisites needed
- How to run it
- Expected output

### Write Clean Code

- Well-commented code
- Clear variable names
- Follow existing style
- Use type hints

### Make It Realistic

- Real-world scenarios
- Proper error handling
- Best practices
- Self-contained

### Test It

- Runs without errors
- Works with default configuration
- Clear instructions

</Steps>

See [CONTRIBUTING.md](https://github.com/rhesis-ai/rhesis/blob/main/CONTRIBUTING.md) for details.

---

<Callout type="default">
  **Next:** Explore [Use Cases](/penelope/use-cases) for more testing scenarios, learn about [Configuration](/penelope/configuration), or check out [Custom Tools](/penelope/custom-tools).
</Callout>
