#####################################################################################
# üöÄ RHESIS LOCAL DEVELOPMENT CONFIGURATION
#####################################################################################
# ‚ö†Ô∏è WARNING: This configuration is for LOCAL DEVELOPMENT ONLY!
# DO NOT use these values in production - they include hardcoded secrets!
#
# This file provides a zero-configuration setup for local development by:
# - Using dummy Auth0 credentials
# - Including default encryption keys
# - Enabling local authentication bypass
# - Creating a default admin user (admin@local.dev)
#
# üìã QUICK START (NO COPYING NEEDED!):
# 1. Run: docker compose -f docker-compose.local.yml --env-file .env.docker.local up
# 2. (Optional) Edit RHESIS_API_KEY below to use Rhesis model for test generation
# 3. Access: http://localhost:3000 (auto-login enabled)
#
# üîë DEFAULT CREDENTIALS:
#    Email: admin@local.dev
#    Password: (not needed - auto-login enabled)
#
# For production deployment, see: .env.example and docs/content/getting-started/self-hosting.mdx
#####################################################################################

#####################################################################################
# üîß USER-DEFINED CONFIGURATION (PRE-FILLED FOR LOCAL DEV)
# These are pre-configured with safe defaults for local development
#####################################################################################

# =============================================================================
# üîê AUTHENTICATION & AUTHORIZATION (DUMMY VALUES FOR LOCAL DEV)
# =============================================================================
# ‚ö†Ô∏è These are DUMMY Auth0 values - NOT for production use!
# Local authentication bypass is enabled, so these won't be used
AUTH0_DOMAIN=local.rhesis.dev
AUTH0_AUDIENCE=local-audience
AUTH0_CLIENT_ID=local-client-id
AUTH0_CLIENT_SECRET=local-client-secret
AUTH0_SECRET_KEY=local-auth0-secret-key

# JWT Configuration (for local development only)
JWT_SECRET_KEY=local-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=10080

# NextAuth Configuration (for local development only)
NEXTAUTH_SECRET=local-nextauth-secret-change-in-production
NEXTAUTH_URL=http://localhost:3000

# Frontend Auth0 Configuration (dummy values)
NEXT_PUBLIC_AUTH0_CLIENT_ID=local-client-id
NEXT_PUBLIC_AUTH0_DOMAIN=local.rhesis.dev

# =============================================================================
# üåê GOOGLE AUTHENTICATION (DUMMY VALUES)
# =============================================================================
# ‚ö†Ô∏è Dummy Google OAuth credentials - NOT for production use!
GOOGLE_CLIENT_ID=local-google-client-id
GOOGLE_CLIENT_SECRET=local-google-client-secret

# =============================================================================
# üîí LOCAL AUTHENTICATION BYPASS
# =============================================================================
# Enable local authentication bypass (skips Auth0, auto-creates admin user)
LOCAL_AUTH_ENABLED=true
NEXT_PUBLIC_LOCAL_AUTH_ENABLED=true

# =============================================================================
# üóÑÔ∏è DATABASE ENCRYPTION KEY (FOR LOCAL DEV ONLY)
# =============================================================================
# ‚ö†Ô∏è DO NOT USE THIS KEY IN PRODUCTION!
# This is a valid Fernet key generated specifically for local development
DB_ENCRYPTION_KEY=YQ9g6q15GGQHA_j01f0VYG5dsdXyZIMbJKg3l4x8QmM=


#####################################################################################
# ‚öôÔ∏è OPTIONAL CONFIGURATION (FOR LOCAL DEV)
# Configure these if you want to test specific AI providers locally
#####################################################################################

# =============================================================================
# ü§ñ AI MODEL CONFIGURATION
# =============================================================================
# Default: Uses Rhesis API (requires RHESIS_API_KEY below)
# Uncomment and configure if you want to use other providers

# Azure OpenAI (optional - comment out if not using)
# AZURE_OPENAI_ENDPOINT=
# AZURE_OPENAI_API_KEY=
# AZURE_OPENAI_DEPLOYMENT_NAME=
# AZURE_OPENAI_API_VERSION=

# OpenAI (optional - comment out if not using)
# OPENAI_API_KEY=
# OPENAI_MODEL_NAME=

# Google Gemini (optional - comment out if not using)
GEMINI_API_KEY=
GEMINI_MODEL_NAME=
GOOGLE_API_KEY=

# =============================================================================
# üìß EMAIL CONFIGURATION (OPTIONAL FOR LOCAL DEV)
# =============================================================================
# SMTP is optional for local development
# Leave empty to disable email functionality
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=ser@example.com
SMTP_PASSWORD=your-password
FROM_EMAIL=noreply@example.com

# =============================================================================
# üîó RHESIS API CONFIGURATION
# =============================================================================
# ‚ö†Ô∏è IMPORTANT: Replace this with your actual Rhesis API key!
# To generate the RHESIS_API_KEY, go to https://app.rhesis.ai/
# Nevigate to API Token Menu and Click on Create API Token
# Supply an name of the Token and then create and paste it here. 
RHESIS_API_KEY=generate-your-own-rhesis-api-key
RHESIS_BASE_URL=https://api.rhesis.ai/

# Default AI Model Configuration (for test generation)
DEFAULT_GENERATION_MODEL=rhesis
DEFAULT_MODEL_NAME=gemini-2.0-flash

#####################################################################################
# üèóÔ∏è RHESIS-DEFINED CONFIGURATION (PRE-CONFIGURED FOR LOCAL DEV)
# These values are optimized for local development - modify only if needed
#####################################################################################

# =============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION (LOCAL DEVELOPMENT)
# =============================================================================
# PostgreSQL Configuration (hardcoded for local dev)
SQLALCHEMY_DB_DRIVER=postgresql
SQLALCHEMY_DB_PORT=5432
SQLALCHEMY_DB_USER=rhesis-user
SQLALCHEMY_DB_PASS=rhesis-local-password
SQLALCHEMY_DB_HOST=postgres
SQLALCHEMY_DB_NAME=rhesis-db
SQLALCHEMY_DATABASE_URL=postgresql://rhesis-user:rhesis-local-password@postgres:5432/rhesis-db

# =============================================================================
# üî¥ REDIS CONFIGURATION (LOCAL DEVELOPMENT)
# =============================================================================
# Redis Configuration (hardcoded for local dev)
REDIS_PORT=6379
REDIS_PASSWORD=rhesis-redis-pass
REDIS_URL=redis://:rhesis-redis-pass@redis:6379/0
BROKER_URL=redis://:rhesis-redis-pass@redis:6379/0
CELERY_RESULT_BACKEND=redis://:rhesis-redis-pass@redis:6379/1

# =============================================================================
# üåê SERVICE CONFIGURATION
# =============================================================================
# Service Ports
BACKEND_PORT=8080
FRONTEND_PORT=3000

# Environment Settings
ENVIRONMENT=local
FRONTEND_ENV=local
BACKEND_ENV=local
WORKER_ENV=local
LOG_LEVEL=DEBUG

# =============================================================================
# üîó APPLICATION URLS (LOCAL DEVELOPMENT)
# =============================================================================
# Internal service URLs (used by containers)
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://backend:8080

# Public URLs (used by browser)
NEXT_PUBLIC_API_BASE_URL=http://localhost:8080
NEXT_PUBLIC_APP_URL=http://localhost:3000

# =============================================================================
# üìä TELEMETRY CONFIGURATION
# =============================================================================
# Telemetry is disabled by default for local development
TELEMETRY_ENABLED=false
DEPLOYMENT_TYPE=self-hosted
OTEL_EXPORTER_OTLP_ENDPOINT=https://rhesis-otel-collector-dev-235yqdecwq-uc.a.run.app/
OTEL_SERVICE_NAME=rhesis
NEXT_PUBLIC_OTEL_ENDPOINT=
NEXT_PUBLIC_DEPLOYMENT_TYPE=self-hosted

# =============================================================================
# üîß CELERY WORKER CONFIGURATION
# =============================================================================
# Worker settings optimized for local development
CELERY_WORKER_CONCURRENCY=8
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000
CELERY_WORKER_LOGLEVEL=INFO
USE_TCP_DATABASE=true
ENABLE_FLOWER=no

# =============================================================================
# üé® FRONTEND BUILD CONFIGURATION
# =============================================================================
# Next.js telemetry is disabled for privacy
NEXT_TELEMETRY_DISABLED=1

#####################################################################################
# üìö LOCAL DEVELOPMENT QUICK START
#####################################################################################
# 1. Run: docker compose -f docker-compose.local.yml --env-file .env.docker.local up
# 2. (Optional) Update RHESIS_API_KEY above to use Rhesis model for test generation
# 3. Visit: http://localhost:3000 (you'll be auto-logged in)
# 4. Check backend logs for the generated API token if needed
#
# üîç DEFAULT SETUP:
#    - Admin user: admin@local.dev (created automatically)
#    - Database: PostgreSQL with example data pre-loaded
#    - Authentication: Auto-login enabled (no Auth0 needed)
#    - API Token: Check backend logs on first run or use your own from https://app.rhesis.ai/
#
# üí° NO COPYING REQUIRED: Use this file directly with --env-file flag!
#####################################################################################
